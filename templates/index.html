<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timesheet Parser - {{ target_name }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="description" content="Upload timesheet PDFs to extract {{ target_name }}'s work schedule">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ“„ Timesheet Parser</h1>
            <p>Upload timesheet PDFs to extract <strong>{{ target_name }}</strong>'s work schedule</p>
            <p class="subtitle">Mobile-optimized â€¢ Instant processing â€¢ Secure</p>
        </header>

        <main>
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10,9 9,9 8,9"></polyline>
                        </svg>
                        <h3>Drop PDF here or tap to upload</h3>
                        <p>Select a timesheet PDF file (max 10MB)</p>
                        <p class="upload-hint">Looking for: <strong>{{ target_name }}</strong></p>
                    </div>
                    <input type="file" id="fileInput" accept=".pdf" hidden>
                </div>
                <div class="upload-status" id="uploadStatus"></div>
            </section>

            <!-- Week Selection -->
            <section class="week-section" id="weekSection" style="display: none;">
                <div class="week-controls">
                    <label for="weekSelect">ðŸ“… Select Week:</label>
                    <select id="weekSelect">
                        <option value="">Loading weeks...</option>
                    </select>
                    <button id="refreshBtn" class="btn btn-secondary">ðŸ”„ Refresh</button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <h2>ðŸ“Š Work Schedule for {{ target_name }}</h2>
                <div class="schedule-table">
                    <table id="scheduleTable">
                        <thead>
                            <tr>
                                <th>Day</th>
                                <th>Date</th>
                                <th>Start Time</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody id="scheduleBody">
                        </tbody>
                    </table>
                </div>
                
                <!-- Summary Info -->
                <div class="summary-section">
                    <div class="summary-card">
                        <h3>ðŸ“ˆ Week Summary</h3>
                        <div id="weekSummary">
                            <p>Loading summary...</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>ðŸš€ Timesheet Parser for {{ target_name }} â€¢ Powered by Flask</p>
            <p class="footer-info">Data stored locally in your browser â€¢ Privacy-first design</p>
        </footer>
    </div>

    <script>
        // Pass target name to JavaScript
        window.TARGET_NAME = '{{ target_name }}';
    </script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
